<mat-card appearance="filled">
  <a
    href="https://www.themoviedb.org/movie/{{ movie.movieId }}"
    target="_blank"
    rel="noopener noreferrer"
  >
    <img
      class="movie-poster"
      mat-card-image
      src="{{ imageBaseUrl }}w185{{ movie.poster }}"
      alt="{{ movie.title }}"
    />
  </a>
  <mat-card-content>
    <div class="watch-info">
      <!-- prettier-ignore -->
      @if (movie.watchInfo) {
      <!-- prettier-ignore -->
      @if (movie.watchInfo.rent) {
      <!-- prettier-ignore -->
      @for (provider of movie.watchInfo.rent; track provider) {
      <!-- prettier-ignore -->
      <img
            [src]="imageBaseUrl + 'w45/' + provider.logoPath"
            alt="Provider Logo"
          />
      } }
      <!-- prettier-ignore -->
      @if (movie.watchInfo.flatrate) {
      <!-- prettier-ignore -->
      @for (provider of movie.watchInfo.flatrate; track provider) {
      <img
        [src]="imageBaseUrl + 'w45/' + provider.logoPath"
        alt="Provider Logo"
      />
      } } }
    </div>
    <!-- prettier-ignore -->
    @if (movie.userScore !== null && movie.userScore !== 0) {
    <app-users-score
      [score]="Math.round((movie.userScore / 10) * 100)"
    ></app-users-score>
    }
  </mat-card-content>
  <mat-card-actions>
    <button matIconButton (click)="onMarkMovieAsWatched()">
      <mat-icon>visibility</mat-icon>
    </button>
    <button matIconButton (click)="onDeleteClick()">
      <mat-icon>delete</mat-icon>
    </button>
  </mat-card-actions>
</mat-card>
